{"uid":"93e60f7316d22fa0","name":"Проверка обновления карточки питомца по ID","fullName":"tests.test_pet_api.TestPetApi#test_update_pet_by_id","historyId":"1e1a5155926e8ed04c2373ac50f9a650","time":{"start":1725809407443,"stop":1725809408028,"duration":585},"status":"failed","statusMessage":"AssertionError: ОР: 200\nФР: 404\nmessage: b'{\"code\":404,\"type\":\"unknown\",\"message\":\"not found\"}'","statusTrace":"self = <tests.test_pet_api.TestPetApi object at 0x104abe350>, logger_test = <Logger testing (INFO)>\n\n    @allure.title('Проверка обновления карточки питомца по ID')\n    def test_update_pet_by_id(self, logger_test):\n        pet_api = PetApi(logger=logger_test)\n        choose_id = 9223372036854775807\n        new_name = common.generate_random_text_value()\n        new_status = random.choice(['available', 'sold', 'pending'])\n        body = f\"name={new_name}&status={new_status}\"\n        with allure.step(f'Обновление карточки по id={choose_id}: new_name = {new_name}, new_status = {new_status}'):\n            put_response = pet_api.post_pet_by_id(choose_id, body=body, expected_error=True)\n>           check.status_code(200, put_response)\n\ntests/test_pet_api.py:152: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nhelpers/checker.py:25: in status_code\n    _response_data(expected, res_code, 'status_code', res_text)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nexpected = 200, actual = 404, step_text = 'status_code', message = b'{\"code\":404,\"type\":\"unknown\",\"message\":\"not found\"}'\n\n    def _response_data(expected, actual, step_text, message):\n        with allure.step(f\"Проверка {step_text} ответа\"):\n            if isinstance(expected, int):\n>               assert actual == expected, \\\n                    (f\"ОР: {expected}\\n\"\n                     f\"ФР: {actual}\\n\"\n                     f\"message: {message}\")\nE               AssertionError: ОР: 200\nE               ФР: 404\nE               message: b'{\"code\":404,\"type\":\"unknown\",\"message\":\"not found\"}'\n\nhelpers/checker.py:8: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"logger_test","time":{"start":1725809397688,"stop":1725809397689,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: ОР: 200\nФР: 404\nmessage: b'{\"code\":404,\"type\":\"unknown\",\"message\":\"not found\"}'","statusTrace":"self = <tests.test_pet_api.TestPetApi object at 0x104abe350>, logger_test = <Logger testing (INFO)>\n\n    @allure.title('Проверка обновления карточки питомца по ID')\n    def test_update_pet_by_id(self, logger_test):\n        pet_api = PetApi(logger=logger_test)\n        choose_id = 9223372036854775807\n        new_name = common.generate_random_text_value()\n        new_status = random.choice(['available', 'sold', 'pending'])\n        body = f\"name={new_name}&status={new_status}\"\n        with allure.step(f'Обновление карточки по id={choose_id}: new_name = {new_name}, new_status = {new_status}'):\n            put_response = pet_api.post_pet_by_id(choose_id, body=body, expected_error=True)\n>           check.status_code(200, put_response)\n\ntests/test_pet_api.py:152: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nhelpers/checker.py:25: in status_code\n    _response_data(expected, res_code, 'status_code', res_text)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nexpected = 200, actual = 404, step_text = 'status_code', message = b'{\"code\":404,\"type\":\"unknown\",\"message\":\"not found\"}'\n\n    def _response_data(expected, actual, step_text, message):\n        with allure.step(f\"Проверка {step_text} ответа\"):\n            if isinstance(expected, int):\n>               assert actual == expected, \\\n                    (f\"ОР: {expected}\\n\"\n                     f\"ФР: {actual}\\n\"\n                     f\"message: {message}\")\nE               AssertionError: ОР: 200\nE               ФР: 404\nE               message: b'{\"code\":404,\"type\":\"unknown\",\"message\":\"not found\"}'\n\nhelpers/checker.py:8: AssertionError","steps":[{"name":"Обновление карточки по id=9223372036854775807: new_name = jaesfndy, new_status = pending","time":{"start":1725809407443,"stop":1725809408027,"duration":584},"status":"failed","statusMessage":"AssertionError: ОР: 200\nФР: 404\nmessage: b'{\"code\":404,\"type\":\"unknown\",\"message\":\"not found\"}'\n","statusTrace":"  File \"/Users/filippovmihail/dev/Project2/tests/test_pet_api.py\", line 152, in test_update_pet_by_id\n    check.status_code(200, put_response)\n  File \"/Users/filippovmihail/dev/Project2/helpers/checker.py\", line 25, in status_code\n    _response_data(expected, res_code, 'status_code', res_text)\n  File \"/Users/filippovmihail/dev/Project2/helpers/checker.py\", line 8, in _response_data\n    assert actual == expected, \\\n           ^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Выполнение запроса POST https://petstore.swagger.io/v2/pet/9223372036854775807, body=name=jaesfndy&status=pending","time":{"start":1725809407443,"stop":1725809408025,"duration":582},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Проверка status_code ответа","time":{"start":1725809408025,"stop":1725809408025,"duration":0},"status":"failed","statusMessage":"AssertionError: ОР: 200\nФР: 404\nmessage: b'{\"code\":404,\"type\":\"unknown\",\"message\":\"not found\"}'\n","statusTrace":"  File \"/Users/filippovmihail/dev/Project2/helpers/checker.py\", line 8, in _response_data\n    assert actual == expected, \\\n           ^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":2,"hasContent":true}],"attachments":[{"uid":"87036d67cb46b33e","name":"log","source":"87036d67cb46b33e.txt","type":"text/plain","size":885}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":1,"attachmentStep":false,"stepsCount":3,"hasContent":true},"afterStages":[],"labels":[{"name":"epic","value":"API"},{"name":"feature","value":"Pet"},{"name":"tag","value":"pet"},{"name":"tag","value":"api"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_pet_api"},{"name":"subSuite","value":"TestPetApi"},{"name":"host","value":"MacBook-Air-Filippov.local"},{"name":"thread","value":"85927-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_pet_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["api","pet"]},"source":"93e60f7316d22fa0.json","parameterValues":[]}